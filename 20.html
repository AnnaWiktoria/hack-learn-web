<!DOCTYPE html>
<html lang="pl">
<head>
    
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="AnnaWiktoria">
    <meta name="copyright" content="AnnaWiktoria">
    <meta name="description" content="Interaktywny kurs bezpieczestwa aplikacji webowych. Licencja CC BY-NC-SA.">

    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; 
               style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
               font-src 'self' https://fonts.gstatic.com; 
               script-src 'self' 'unsafe-inline'; 
               img-src 'self' data:;">

    <title>Kurs bezpieczestwa aplikacji webowych - Lekcja 20: Decision Labs</title>
      
      <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">


    <style>
        /* Akcent: Blueprint Blue (Strategy / Decision) */
        :root {
            --accent: #2962ff;
            --accent-glow: rgba(41, 98, 255, 0.3);
        }
        
        .impact-badge {
            display: inline-block;
            background: rgba(255, 23, 68, 0.15);
            border: 1px solid #ff1744;
            color: #ff1744;
            padding: 2px 8px;
            font-size: 0.75rem;
            border-radius: 4px;
            font-weight: bold;
            margin-top: 10px;
            margin-bottom: 5px;
            font-family: var(--font-mono);
        }

        .auditor-note {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed #444;
            color: var(--accent);
            font-size: 0.9rem;
            font-style: italic;
        }
        
        .scenario-box {
            background: #0a0a0a;
            border-left: 3px solid var(--accent);
            padding: 15px;
            margin-bottom: 15px;
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>DECISION LABS: TRIAGE</h1>
        <p>MODU 20: Priorytetyzacja, Eliminacja "Rabbit Holes" i Szybka Ocena</p>
    </header>

    <!-- WSTP -->
    <section>
        <h2>> SZTUKA WYBORU (TRIAGE)</h2>
        <p>Podczas audytu nie masz czasu na sprawdzenie wszystkiego. Musisz decydowa: co jest potencjalnym "Criticalem", a co strat czasu ("Rabbit Hole").</p>
    </section>

    <!-- LAB 1: RECON ANOMALY -->
    <section>
        <h2>> LAB 01: DZIWNE ZACHOWANIE 403</h2>
        <div class="card">
            <h3>OBSERWACJA:</h3>
            <p>Skanujesz katalogi (Fuzzing). Otrzymujesz takie wyniki:</p>
            <div class="scenario-box">
                GET /admin &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-> <span style="color:orange">403 Forbidden</span><br>
                GET /admin/login -> <span style="color:red">404 Not Found</span><br>
                GET /admin/css &nbsp;&nbsp;-> <span style="color:green">200 OK</span> (Pusty plik)<br>
                GET /admin/TEST &nbsp;&nbsp;-> <span style="color:green">200 OK</span> (Defaultowa strona frameworka)
            </div>

            <p><strong>Decyzja:</strong> Co atakujesz?</p>
            <ul>
                <li><strong>Opcja A:</strong> Brute-force katalogu `/admin`.</li>
                <li><strong>Opcja B:</strong> Analiza `/admin/TEST` i `/admin/css`.</li>
                <li><strong>Opcja C:</strong> Pr贸ba bypassu 403 na `/admin`.</li>
            </ul>

            <div class="impact-badge">[Impact: Information Disclosure / Admin Access]</div>

            <p><strong>Analiza:</strong> Skoro `/admin/TEST` zwraca 200, to znaczy, 偶e mechanizm blokady (403) na katalogu g贸wnym jest dziurawy lub 藕le skonfigurowany. To "Low Hanging Fruit".</p>
            
            <div class="auditor-note">
                 <strong>Nastpny krok audytora:</strong> Sprawdzibym, czy `/admin/TEST` ujawnia wersj frameworka lub bdy (Stack Trace), a nastpnie spr贸bowabym technik "403 Bypass" (np. nag贸wki X-Forwarded-For).
            </div>
        </div>
    </section>

    <!-- LAB 2: INPUT REFLECTION -->
    <section>
        <h2>> LAB 02: 7 * 7 = ?</h2>
        <div class="card">
            <h3>OBSERWACJA:</h3>
            <p>Wpisujesz w pole wyszukiwania: <code>{{7*7}}</code>.</p>
            <div class="scenario-box">
                <strong>Input:</strong> {{7*7}}<br>
                <strong>Output (na stronie):</strong> Wyniki wyszukiwania dla: 49
            </div>

            <p><strong>Decyzja:</strong> Co to za bd?</p>
            <ul>
                <li><strong>Opcja A:</strong> XSS (Cross-Site Scripting).</li>
                <li><strong>Opcja B:</strong> SSTI (Server-Side Template Injection).</li>
                <li><strong>Opcja C:</strong> SQL Injection.</li>
            </ul>

            <div class="impact-badge">[Impact: RCE (Remote Code Execution)]</div>

            <p><strong>Analiza:</strong> Gdyby to by XSS, zobaczyby tekst `{{7*7}}`. Skoro widzisz `49`, to znaczy, 偶e serwer <strong>wykona operacj matematyczn</strong>. To cecha silnik贸w szablon贸w (Template Engines). SSTI jest znacznie gro藕niejsze ni偶 XSS.</p>

            <div class="auditor-note">
                 <strong>Nastpny krok audytora:</strong> Zidentyfikowabym silnik (Jinja2? Twig? Velocity?) i spr贸bowabym payloadu wykonujcego komend systemow (np. `id`).
            </div>
        </div>
    </section>

    <!-- LAB 3: TIMING ATTACK -->
    <section>
        <h2>> LAB 03: MAGIA CZASU</h2>
        <div class="card">
            <h3>OBSERWACJA:</h3>
            <p>Testujesz parametr `?id=`. Serwer odpowiada zwykle w 100ms.</p>
            <div class="scenario-box">
                id=1' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-> 100ms (200 OK)<br>
                id=1" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-> 100ms (200 OK)<br>
                id=1' WAITFOR DELAY '0:0:5' -> <strong>5100ms</strong> (200 OK)<br>
                id=1' WAITFOR DELAY '0:0:2' -> <strong>2100ms</strong> (200 OK)
            </div>

            <p><strong>Decyzja:</strong> Czy zgaszasz bd?</p>
            
            <div class="impact-badge">[Impact: Database Compromise / Data Exfiltration]</div>

            <p><strong>Analiza:</strong> Korelacja czasu odpowiedzi z Twoim payloadem (5s i 2s) jest dowodem na <strong>Blind SQL Injection</strong>. Bd nie jest widoczny w treci, ale serwer "sucha" Twoich polece.</p>

            <div class="auditor-note">
                 <strong>Nastpny krok audytora:</strong> U偶ybym `sqlmap` lub rcznego skryptu do wycignicia nazwy bazy danych, znak po znaku, wykorzystujc op贸藕nienia czasowe.
            </div>
        </div>
    </section>

    <!-- CHECKLIST -->
    <section>
        <h2>DECISION MATRIX </h2>
        <div class="card checklist-card">
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>Input == Output?</strong> Jeli tak -> testuj XSS. Jeli Output to wynik obliczenia -> testuj SSTI/RCE.</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>Lag po payloadzie?</strong> Jeli strona zwalnia po wpisaniu `sleep` lub `'` -> testuj Blind SQLi lub Command Injection.</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>403 vs 404?</strong> 403 oznacza "co tu jest, ale nie wejdziesz". 404 oznacza "nic tu nie ma". Skup si na 403.</div>
            </div>
        </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz-section">
        <h2> SYMULACJA DECYZYJNA</h2>
        <div id="quiz-container"></div>
    </section>

    <footer>
        <p style="text-align: center; margin-top: 50px; color: #555;">&copy; 2026 Hack & Learn: Web Edition | Modu 20</p>
    </footer>
</div>

<!-- DANE DO QUIZU -->
<script>
    const quizData = [
        {
            type: "scenario",
            question: "Widzisz formularz logowania. Po wpisaniu niepoprawnego u偶ytkownika dostajesz komunikat: 'User not found'. Po wpisaniu poprawnego u偶ytkownika i zego hasa: 'Invalid password'. Co znalaze?",
            options: [
                "Broken Authentication (Sabe hasa).",
                "Username Enumeration (Information Disclosure).",
                "SQL Injection.",
                "XSS."
            ],
            correct: 1,
            explanation: "R贸偶ne komunikaty bd贸w pozwalaj hakerowi stworzy list poprawnych login贸w w systemie, co uatwia p贸藕niejszy atak Brute-Force na hasa.<br><br><strong>[Impact: Account Takeover prep]</strong><br><em> Nastpny krok audytora: Sprawdzibym, czy istnieje Rate Limiting (blokada po N pr贸bach).</em>"
        },
        {
            type: "scenario",
            question: "W URL widzisz parametr `?redirect=http://google.com`. Po wejciu, strona przekierowuje Ci na Google. Co testujesz w pierwszej kolejnoci?",
            options: [
                "SQL Injection.",
                "Open Redirect (przekierowanie na evil.com) oraz XSS (javascript:alert(1)).",
                "Command Injection.",
                "Path Traversal."
            ],
            correct: 1,
            explanation: "Parametry przekierowa to klasyczny wektor dla Phishingu (Open Redirect) lub XSS (jeli mo偶na u偶y protokou `javascript:`).<br><br><strong>[Impact: Phishing / XSS]</strong><br><em> Nastpny krok audytora: Sprawdzibym, czy walidacja domeny jest cisa (czy puszcza `google.com.evil.com`).</em>"
        },
        {
            type: "scenario",
            question: "Przesyasz plik SVG jako awatar. Serwer go wywietla. Co sprawdzasz najpierw?",
            options: [
                "Czy mog wgra plik .exe.",
                "Czy w SVG wykona si XSS (`<script>`) lub XXE (odczyt plik贸w).",
                "Czy plik jest du偶y.",
                "Czy obrazek jest adny."
            ],
            correct: 1,
            explanation: "SVG to XML. Przegldarki wykonuj w nim JS (Stored XSS), a serwery parsuj XML (XXE).<br><br><strong>[Impact: Stored XSS / File Read]</strong><br><em> Nastpny krok audytora: Wgrabym SVG z payloadem `<!ENTITY xxe SYSTEM 'file:///etc/passwd'>`.</em>"
        },
        {
            type: "scenario",
            question: "Endpoint API `/users/100` zwraca dane u偶ytkownika. Zmieniasz na `/users/101` i dostajesz 403 Forbidden. Co robisz dalej?",
            options: [
                "Zgaszam IDOR.",
                "Nic, zabezpieczenie dziaa (AuthZ jest poprawne). Przechodz do innych test贸w (np. zmiana metody HTTP na PUT/DELETE).",
                "Pr贸buj SQL Injection.",
                "Zgaszam bd 403."
            ],
            correct: 1,
            explanation: "403 oznacza, 偶e serwer poprawnie sprawdzi uprawnienia i zablokowa dostp. To NIE jest bd (chyba 偶e komunikat zdradza co innego). Nie tra czasu.<br><br><strong>[Impact: N/A (Secure)]</strong><br><em> Nastpny krok audytora: Sprawdzibym, czy metody zmieniajce stan (POST/PUT) r贸wnie偶 s zabezpieczone.</em>"
        },
        {
            type: "scenario",
            question: "Podczas rejestracji nowego konta, aplikacja wysya request: `POST /register { role: 'user', ... }`. Co robisz?",
            options: [
                "Szukam XSS w nazwie u偶ytkownika.",
                "Zmieniam 'role': 'user' na 'admin' lub 'superuser' (Mass Assignment).",
                "Sprawdzam certyfikat SSL.",
                "Testuj CSRF."
            ],
            correct: 1,
            explanation: "Jeli parametr roli jest przesyany od klienta, istnieje ryzyko, 偶e backend mu zaufa.<br><br><strong>[Impact: Privilege Escalation]</strong><br><em> Nastpny krok audytora: Jeli to zadziaa, sprawdzibym, czy mog nadpisa inne pola, np. 'is_verified': true.</em>"
        }
    ];
</script>

<script src="quiz.js"></script>

</body>
</html>
