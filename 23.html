<!DOCTYPE html>
<html lang="pl">
<head>
 
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="AnnaWiktoria">
    <meta name="copyright" content="AnnaWiktoria">
    <meta name="description" content="Interaktywny kurs bezpieczestwa aplikacji webowych. Licencja CC BY-NC-SA.">

    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; 
               style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
               font-src 'self' https://fonts.gstatic.com; 
               script-src 'self' 'unsafe-inline'; 
               img-src 'self' data:;">

    <title>Kurs bezpieczestwa aplikacji webowych - Lekcja 23: Vulnerability Chaining</title>
      
      <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">


    <style>
        /* Akcent: Chain-Link Orange (Synergy / Connections) */
        :root {
            --accent: #ff9100;
            --accent-glow: rgba(255, 145, 0, 0.3);
        }
        
        .chain-plus { color: #00e5ff; font-weight: bold; font-size: 1.2em; }
        .chain-equals { color: #ff0055; font-weight: bold; font-size: 1.2em; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>VULNERABILITY CHAINING</h1>
        <p>MODU 23: Matematyka Hakera (1 + 1 = Critical)</p>
    </header>

    <!-- 1. KONCEPCJA -->
    <section>
        <h2>> EFEKT DOMINA</h2>
        <p>Wikszo nowoczesnych aplikacji jest zbyt dobrze zabezpieczona, by zhakowa je jednym "strzaem". Atakujcy musi znale藕 ma dziur, by otworzy drzwi do wikszej.</p>
        
        <div class="card">
            <h3>MATEMATYKA RYZYKA</h3>
            <p><strong>Low</strong> (Niskie ryzyko) + <strong>Low</strong> = <strong style="color:var(--danger)">Critical</strong>.</p>
            <p>Nie zgaszaj klientowi: "Znalazem XSS, ale dziaa tylko na mnie". Zgo: "Znalazem spos贸b na przejcie konta Administratora, czc XSS z brakiem tokena CSRF".</p>
        </div>
    </section>

    <!-- 2. KLASYCZNE ACUCHY -->
    <section>
        <h2>> ZNANE KOMBINACJE (COMBO)</h2>

        <div class="card">
            <h3>1. SELF-XSS + CSRF -> STORED XSS</h3>
            <ul>
                <li><strong>Bd 1 (Self-XSS):</strong> Mo偶esz wstrzykn JS w pole "Imi", ale widzi to tylko zalogowany u偶ytkownik (Ty). Ryzyko: Zerowe (nikt tego nie kupi).</li>
                <li><strong>Bd 2 (CSRF):</strong> Formularz zmiany imienia nie ma tokena CSRF. Ryzyko: rednie.</li>
                <li><strong>CHAIN:</strong> Tworzysz stron-puapk, kt贸ra po wejciu ofiary (CSRF) zmienia jej imi na Tw贸j payload (XSS). Teraz ofiara ma XSS w swoim profilu.</li>
            </ul>
        </div>

        <div class="card">
            <h3>2. OPEN REDIRECT + OAUTH -> ACCOUNT TAKEOVER</h3>
            <ul>
                <li><strong>Bd 1 (Open Redirect):</strong> Parametr <code>?next=http://evil.com</code> przekierowuje u偶ytkownika na zewntrz. Ryzyko: Niskie (Phishing).</li>
                <li><strong>Bd 2 (OAuth):</strong> Logowanie przez Google/Facebook wysya token autoryzacyjny na adres podany w <code>redirect_uri</code>.</li>
                <li><strong>CHAIN:</strong> Ustawiasz <code>redirect_uri</code> na Tw贸j Open Redirect. Token po zalogowaniu trafia na stron firmy, kt贸ra przekierowuje go (wraz z tokenem w URL) do Ciebie. Przejmujesz konto.</li>
            </ul>
        </div>

        <div class="card">
            <h3>3. LFI + FILE UPLOAD -> RCE</h3>
            <ul>
                <li><strong>Bd 1 (File Upload):</strong> Mo偶esz wgra tylko pliki <code>.txt</code>. Kod PHP nie dziaa.</li>
                <li><strong>Bd 2 (LFI):</strong> Mo偶esz wczyta dowolny plik z serwera.</li>
                <li><strong>CHAIN:</strong> Wgrywasz kod PHP jako <code>notatki.txt</code>. Nastpnie u偶ywasz LFI, by wczyta ten plik. Serwer wykonuje zawarto pliku tekstowego jako PHP. Masz RCE.</li>
            </ul>
        </div>
    </section>

    <!-- 3. LOGIC CHAINS -->
    <section>
        <h2>> ACUCHY LOGICZNE</h2>
        <p>Czasami czymy bdy biznesowe.</p>

        <div class="card">
            <h3>IDOR + PASS RESET POISONING</h3>
            <p>Mo偶esz podejrze email innego u偶ytkownika przez IDOR (<code>/api/users/105</code>). Znajc email, u偶ywasz "Host Header Injection" przy resecie hasa, by link resetujcy przyszed na Tw贸j serwer, a nie ofiary.</p>
        </div>
    </section>

    <!-- CHECKLIST -->
    <section>
        <h2>AUDIT CHECKLIST: CHAIN OPPORTUNITIES </h2>
        <div class="card checklist-card">
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>Masz XSS?</strong> Szukaj braku HttpOnly w ciasteczkach (kradzie偶 sesji) lub braku CSRF (wymuszanie akcji).</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>Masz CSRF?</strong> Szukaj funkcji zmieniajcych email lub haso. To prowadzi do przejcia konta.</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon"></span>
                <div><strong>Masz Info Disclosure (Wersja softu)?</strong> Szukaj publicznych exploit贸w (CVE) na t konkretn wersj.</div>
            </div>
        </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz-section">
        <h2> AUDYT: POCZ KROPKI</h2>
        <div id="quiz-container"></div>
    </section>

    <footer>
        <p style="text-align: center; margin-top: 50px; color: #555;">&copy; 2026 Hack & Learn: Web Edition | Modu 23</p>
    </footer>
</div>

<!-- DANE DO QUIZU -->
<script>
    const quizData = [
        {
            type: "scenario",
            question: "Znalaze 'Self-XSS' (payload wykonuje si tylko w Twojej konsoli po wpisaniu go rcznie). Program Bug Bounty odrzuca to zgoszenie. Czego potrzebujesz, aby zamieni to w validny bd?",
            options: [
                "SQL Injection.",
                "CSRF (Cross-Site Request Forgery) lub Clickjacking, kt贸ry zmusi ofiar do wpisania/wykonania tego payloadu na jej koncie.",
                "Dostpu do serwera.",
                "Lepszego payloadu."
            ],
            correct: 1,
            explanation: "Self-XSS jest gro藕ny tylko wtedy, gdy uda Ci si zmusi kogo innego do wykonania go. CSRF (np. w formularzu profilu) jest idealnym nonikiem."
        },
        {
            type: "scenario",
            question: "Masz Open Redirect na stronie `bank.com/go?url=...`. Jak mo偶esz to wykorzysta do kradzie偶y token贸w OAuth (Logowanie przez Google/FB)?",
            options: [
                "Nie da si.",
                "Podmieniasz `redirect_uri` w procesie logowania OAuth na adres Open Redirecta. Token trafi do zaufanej domeny banku, kt贸ra nastpnie przekieruje go (wraz z tokenem w URL) na Tw贸j serwer.",
                "Przekierowujesz u偶ytkownika na stron z wirusem.",
                "Blokujesz logowanie."
            ],
            correct: 1,
            explanation: "Dostawcy to偶samoci (Google, FB) ufaj domenie `bank.com`. Open Redirect pozwala 'wycign' token z zaufanej domeny na zewntrz."
        },
        {
            question: "Znalaze plik `phpinfo.php` (Information Disclosure). Widzisz wersj PHP i cie偶ki systemowe. Czy to jest gro藕ne?",
            options: [
                "Tylko informacyjnie (Low).",
                "Jeli poczysz to z LFI (Local File Inclusion), cie偶ki pozwol Ci precyzyjnie celowa w pliki. Jeli wersja PHP jest stara, mo偶e mie exploity RCE.",
                "To bd krytyczny sam w sobie.",
                "Nie, to funkcja debugowania."
            ],
            correct: 1,
            explanation: "Sama informacja to mao. Ale informacja jest amunicj do innych atak贸w. LFI bez znajomoci cie偶ek to zgadywanie. Z `phpinfo` to precyzyjny strza."
        },
        {
            type: "scenario",
            question: "Mo偶esz wgra tylko plik tekstowy (.txt), ale masz te偶 podatno LFI na tej samej stronie. Jaki jest Impact?",
            options: [
                "File Read (mo偶esz czyta pliki).",
                "RCE (Remote Code Execution). Wgrywasz kod PHP jako .txt, a nastpnie u偶ywasz LFI, by serwer wykona ten plik jako skrypt PHP.",
                "DoS.",
                "XSS."
            ],
            correct: 1,
            explanation: "LFI nie dba o rozszerzenie pliku. Jeli zainkludujesz plik zawierajcy `<?php ... ?>`, serwer go wykona, nawet jeli nazywa si `notatka.txt`."
        },
        {
            question: "Dlaczego acuchy podatnoci (Chains) s wy偶ej oceniane w CVSS ni偶 pojedyncze bdy?",
            options: [
                "Bo s trudniejsze do znalezienia.",
                "Poniewa偶 Impact (skutek) acucha jest sum lub mno偶nikiem skutk贸w skadowych. Dwa bdy o niskim wpywie mog razem pozwoli na cakowite przejcie systemu.",
                "Bo tak m贸wi OWASP.",
                "Bo raport jest du偶szy."
            ],
            correct: 1,
            explanation: "CVSS ocenia Impact. Self-XSS ma Impact 'None' dla innych. Self-XSS + CSRF ma Impact 'High' (przejcie sesji)."
        }
    ];
</script>

<script src="quiz.js"></script>

</body>
</html>
