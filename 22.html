<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lekcja 22: Advanced Recon - Hack & Learn</title>
    
    <link rel="stylesheet" href="style.css">

    <style>
        /* Akcent: OSINT Teal (Intelligence / Surveillance) */
        :root {
            --accent: #00e5ff;
            --accent-glow: rgba(0, 229, 255, 0.3);
        }
        
        .dork-key { color: #ff0055; font-weight: bold; }
        .dork-val { color: #fff; }
        .tool-name { color: #ffd600; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ADVANCED RECON & MAPPING</h1>
        <p>MODUÅ 22: OSINT, Subdomeny i Mapowanie Powierzchni Ataku</p>
    </header>

    <!-- 1. PASYWNY REKONESANS -->
    <section>
        <h2>> OSINT: BIAÅY WYWIAD</h2>
        <p>Zanim wyÅ›lesz pierwszy pakiet do serwera (Active Recon), dowiedz siÄ™ o nim wszystkiego, nie dotykajÄ…c go (Passive Recon). To niewykrywalne.</p>
        
        <div class="card">
            <h3>GOOGLE DORKING</h3>
            <p>Wyszukiwarka Google zindeksowaÅ‚a miliony plikÃ³w, ktÃ³rych nie powinno byÄ‡ w sieci. UÅ¼ywaj operatorÃ³w:</p>
            <pre><code><span class="dork-key">site:</span>target.com <span class="dork-key">filetype:</span>pdf "confidential"
<span class="dork-key">site:</span>target.com <span class="dork-key">inurl:</span>admin
<span class="dork-key">site:</span>trello.com "target_company_name"</code></pre>
            <p>MoÅ¼esz znaleÅºÄ‡ instrukcje dla pracownikÃ³w, hasÅ‚a, a nawet publiczne tablice Trello z planami IT.</p>
        </div>

        <div class="card">
            <h3>CERTIFICATE TRANSPARENCY (crt.sh)</h3>
            <p>KaÅ¼dy certyfikat SSL jest rejestrowany publicznie. DziÄ™ki temu znajdziesz subdomeny, o ktÃ³rych klient zapomniaÅ‚.</p>
            <p><strong>NarzÄ™dzie:</strong> WejdÅº na <code>crt.sh</code> i wpisz <code>%.target.com</code>.</p>
            <p><strong>Wynik:</strong> Znajdziesz <code>dev.target.com</code>, <code>test-api.target.com</code>, <code>vpn.target.com</code>.</p>
        </div>
    </section>

    <!-- 2. AKTYWNE MAPOWANIE -->
    <section>
        <h2>> AKTYWNE SKANOWANIE (TOUCHING THE TARGET)</h2>
        <p>Teraz wchodzimy w interakcjÄ™. Tutaj potrzebujesz juÅ¼ zgody (Scope).</p>

        <div class="card">
            <h3>SUBDOMAIN ENUMERATION</h3>
            <p>Subdomeny to czÄ™sto "miÄ™kkie podbrzusze" firmy. Produkcja jest twarda, ale Å›rodowisko deweloperskie (dev/staging) czÄ™sto nie ma WAF-a i ma wÅ‚Ä…czone debugowanie.</p>
            <ul>
                <li><span class="tool-name">Subfinder / Amass:</span> NarzÄ™dzia, ktÃ³re przeczesujÄ… internet w poszukiwaniu subdomen.</li>
                <li><span class="tool-name">FFUF (Fuzz Faster U Fool):</span> Bruteforce DNS. Zgadujesz nazwy: <code>api</code>, <code>corp</code>, <code>jenkins</code>.</li>
            </ul>
        </div>

        <div class="card">
            <h3>TECH STACK FINGERPRINTING</h3>
            <p>Musisz wiedzieÄ‡, co atakujesz. Czy to WordPress? Czy Java Spring? Czy Node.js?</p>
            <ul>
                <li><strong>Wappalyzer:</strong> Wtyczka do przeglÄ…darki pokazujÄ…ca technologie.</li>
                <li><strong>NagÅ‚Ã³wki HTTP:</strong> <code>Server: Apache/2.4.49</code> (stara wersja = znane podatnoÅ›ci CVE).</li>
                <li><strong>Pliki specyficzne:</strong> <code>/wp-login.php</code> (WordPress), <code>/actuator/health</code> (Java Spring Boot).</li>
            </ul>
        </div>
    </section>

    <!-- 3. ZAPOMNIANE ZASOBY -->
    <section>
        <h2>> SHADOW IT & WAYBACK MACHINE</h2>
        <p>NajwiÄ™ksze bÅ‚Ä™dy leÅ¼Ä… tam, gdzie nikt nie zaglÄ…da.</p>

        <div class="card">
            <h3>WAYBACK MACHINE (archive.org)</h3>
            <p>SprawdÅº, jak strona wyglÄ…daÅ‚a 5 lat temu. MoÅ¼e stary endpoint <code>/v1/api/login</code> nadal dziaÅ‚a, mimo Å¼e na stronie gÅ‚Ã³wnej jest link tylko do <code>/v2/</code>? Stare endpointy sÄ… czÄ™sto dziurawe.</p>
        </div>

        <div class="card">
            <h3>GITHUB RECON</h3>
            <p>Deweloperzy czÄ™sto przypadkiem commitujÄ… klucze API lub hasÅ‚a do publicznych repozytoriÃ³w.</p>
            <p><strong>Szukaj:</strong> <code>"target.com" password</code> lub <code>"target.com" AWS_KEY</code>.</p>
        </div>
    </section>

    <!-- CHECKLIST -->
    <section>
        <h2>AUDIT CHECKLIST: RECONNAISSANCE ğŸ•µï¸â€â™‚ï¸</h2>
        <div class="card checklist-card">
            <div class="checklist-item">
                <span class="check-icon">ğŸ—ºï¸</span>
                <div><strong>Subdomain Takeover:</strong> Czy jakaÅ› subdomena wskazuje na nieistniejÄ…cy zasÃ³b w chmurze (np. usuniÄ™ty bucket S3)? MoÅ¼esz go zarejestrowaÄ‡ i przejÄ…Ä‡ subdomenÄ™.</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon">ğŸ—ºï¸</span>
                <div><strong>Katalogi .git / .env:</strong> Zawsze sprawdzaj, czy katalog `.git` jest dostÄ™pny publicznie. To pozwala pobraÄ‡ caÅ‚y kod ÅºrÃ³dÅ‚owy.</div>
            </div>
            <div class="checklist-item">
                <span class="check-icon">ğŸ—ºï¸</span>
                <div><strong>Port Scanning (Nmap/Shodan):</strong> Czy serwer webowy ma otwarte inne porty? Np. 8080 (Tomcat), 22 (SSH), 3306 (MySQL).</div>
            </div>
        </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz-section">
        <h2>ğŸ“ AUDYT: FAZA ZWIADU</h2>
        <div id="quiz-container"></div>
    </section>

    <footer>
        <p style="text-align: center; margin-top: 50px; color: #555;">&copy; 2026 Hack & Learn: Web Edition | ModuÅ‚ 22</p>
    </footer>
</div>

<!-- DANE DO QUIZU -->
<script>
    const quizData = [
        {
            question: "Na czym polega rÃ³Å¼nica miÄ™dzy Pasywnym a Aktywnym rekonesansem?",
            options: [
                "Pasywny jest wolniejszy.",
                "Pasywny (OSINT) nie interweniuje bezpoÅ›rednio z systemem docelowym (korzysta z publicznych danych), wiÄ™c jest trudny do wykrycia. Aktywny (skanowanie) wysyÅ‚a pakiety do celu i zostawia Å›lady w logach.",
                "Aktywny wymaga pÅ‚atnych narzÄ™dzi.",
                "Nie ma rÃ³Å¼nicy."
            ],
            correct: 1,
            explanation: "Pasywny Recon (np. przeglÄ…danie LinkedIn, crt.sh) jest bezpieczny prawnie nawet bez umowy (to dane publiczne). Aktywny (Nmap, Dirb) wymaga zgody wÅ‚aÅ›ciciela."
        },
        {
            question: "Do czego sÅ‚uÅ¼y serwis `crt.sh` w fazie rekonesansu?",
            options: [
                "Do Å‚amania haseÅ‚.",
                "Do wyszukiwania subdomen firmy na podstawie publicznych logÃ³w certyfikatÃ³w SSL (Certificate Transparency).",
                "Do sprawdzania szybkoÅ›ci strony.",
                "Do generowania raportÃ³w."
            ],
            correct: 1,
            explanation: "KaÅ¼dy wydany certyfikat SSL jest rejestrowany. `crt.sh` pozwala zobaczyÄ‡ historiÄ™ wszystkich certyfikatÃ³w dla `*.firma.pl`, ujawniajÄ…c subdomeny jak `vpn.firma.pl` czy `dev.firma.pl`."
        },
        {
            type: "scenario",
            question: "UÅ¼ywajÄ…c narzÄ™dzia FFUF (katalog fuzzing), znajdujesz plik `/.env` dostÄ™pny publicznie (status 200). Co to oznacza dla audytora?",
            options: [
                "Nic waÅ¼nego, to plik konfiguracyjny CSS.",
                "Critical Impact. Plik `.env` czÄ™sto zawiera klucze API, hasÅ‚a do bazy danych i sekrety aplikacji w plain-text.",
                "Low Impact. To tylko zmienne Å›rodowiskowe.",
                "To bÅ‚Ä…d 404."
            ],
            correct: 1,
            explanation: "Wyciek `.env` to jedna z najczÄ™stszych przyczyn caÅ‚kowitego przejÄ™cia infrastruktury. To 'klucze do krÃ³lestwa'."
        },
        {
            question: "Co to sÄ… 'Google Dorks'?",
            options: [
                "Pracownicy Google.",
                "Zaawansowane zapytania do wyszukiwarki (np. `filetype:pdf`, `site:target.com`), pozwalajÄ…ce znaleÅºÄ‡ zaindeksowane pliki wraÅ¼liwe, panele logowania lub bÅ‚Ä™dy konfiguracji.",
                "Wtyczki do Chrome.",
                "BÅ‚Ä™dy w Gmailu."
            ],
            correct: 1,
            explanation: "Google to potÄ™Å¼ny skaner bezpieczeÅ„stwa. Hakerzy uÅ¼ywajÄ… go, by znaleÅºÄ‡ np. publicznie dostÄ™pne pliki z hasÅ‚ami (`filetype:xls password`)."
        },
        {
            type: "scenario",
            question: "Znajdujesz nagÅ‚Ã³wek HTTP `Server: Apache/2.2.15`. Co robisz?",
            options: [
                "IgnorujÄ™, Apache to dobry serwer.",
                "NotujÄ™ wersjÄ™ i sprawdzam w bazie CVE (Common Vulnerabilities and Exposures), czy ta wersja ma znane, publiczne exploity.",
                "PrÃ³bujÄ™ siÄ™ zalogowaÄ‡ jako admin.",
                "WyÅ‚Ä…czam serwer."
            ],
            correct: 1,
            explanation: "To siÄ™ nazywa 'Version Fingerprinting'. Stare oprogramowanie czÄ™sto ma znane luki, na ktÃ³re gotowe sÄ… exploity. To Å‚atwy cel."
        },
        {
            question: "Dlaczego Wayback Machine (archive.org) jest przydatne dla pentestera?",
            options: [
                "Pozwala zobaczyÄ‡ historiÄ™ firmy.",
                "Pozwala znaleÅºÄ‡ stare, zapomniane endpointy API lub pliki, ktÃ³re zostaÅ‚y usuniÄ™te z menu strony, ale fizycznie wciÄ…Å¼ istniejÄ… na serwerze i mogÄ… byÄ‡ podatne.",
                "Jest szybsze niÅ¼ Google.",
                "Pozwala cofnÄ…Ä‡ czas."
            ],
            correct: 1,
            explanation: "ProgramiÅ›ci czÄ™sto usuwajÄ… linki do starych funkcji (Security by Obscurity), ale nie usuwajÄ… kodu z serwera. Wayback Machine pamiÄ™ta te linki."
        },
        {
            question: "Co to jest 'Subdomain Takeover'?",
            options: [
                "Kupienie domeny firmy.",
                "Sytuacja, gdy rekord DNS firmy wskazuje na zewnÄ™trznÄ… usÅ‚ugÄ™ (np. Heroku, AWS S3), ktÃ³ra zostaÅ‚a usuniÄ™ta. AtakujÄ…cy moÅ¼e zarejestrowaÄ‡ tÄ™ usÅ‚ugÄ™ na siebie i przejÄ…Ä‡ ruch z zaufanej subdomeny.",
                "Atak DDoS na DNS.",
                "Zmiana nazwy firmy."
            ],
            correct: 1,
            explanation: "To bÅ‚Ä…d konfiguracji DNS (tzw. Dangling DNS). Firma zapomniaÅ‚a usunÄ…Ä‡ wpis CNAME po rezygnacji z usÅ‚ugi w chmurze."
        },
        {
            question: "Jakie narzÄ™dzie (wtyczka do przeglÄ…darki) pozwala szybko zidentyfikowaÄ‡ technologie uÅ¼ywane na stronie (CMS, Framework, Serwer)?",
            options: [
                "AdBlock.",
                "Wappalyzer (lub BuiltWith).",
                "LastPass.",
                "Grammarly."
            ],
            correct: 1,
            explanation: "Wappalyzer analizuje kod strony, ciasteczka i nagÅ‚Ã³wki, by powiedzieÄ‡ Ci: 'To jest WordPress, uÅ¼ywa jQuery 3.0 i serwera Nginx'."
        },
        {
            type: "scenario",
            question: "PrzeglÄ…dasz repozytoria firmy na GitHubie. Znajdujesz plik z kodem: `const AWS_SECRET = 'AKIA...'`. Co to jest?",
            options: [
                "PrzykÅ‚adowy klucz.",
                "Hardcoded Credential / Secret Leak. To krytyczny bÅ‚Ä…d, ktÃ³ry moÅ¼e pozwoliÄ‡ na dostÄ™p do chmury AWS firmy.",
                "Klucz publiczny, to bezpieczne.",
                "BÅ‚Ä…d kompilacji."
            ],
            correct: 1,
            explanation: "Wycieki sekretÃ³w na GitHubie to plaga. IstniejÄ… narzÄ™dzia (np. TruffleHog), ktÃ³re skanujÄ… GitHuba w poszukiwaniu takich wpadek."
        },
        {
            question: "Co to jest 'Shadow IT'?",
            options: [
                "Hakerzy w kapturach.",
                "Zasoby IT (serwery, aplikacje, chmury) uÅ¼ywane w firmie bez wiedzy i kontroli dziaÅ‚u bezpieczeÅ„stwa. SÄ… czÄ™sto sÅ‚abo zabezpieczone i stanowiÄ… Å‚atwy cel.",
                "Ciemny motyw w IDE.",
                "Tryb incognito."
            ],
            correct: 1,
            explanation: "Shadow IT to np. serwer deweloperski postawiony 'na szybko' przez staÅ¼ystÄ™, o ktÃ³rym wszyscy zapomnieli, a ktÃ³ry wciÄ…Å¼ jest podÅ‚Ä…czony do sieci firmowej."
        }
    ];
</script>

<script src="quiz.js"></script>

</body>
</html>